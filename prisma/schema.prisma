generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id         String   @id @default(uuid()) @db.Uuid
  userName   String 
  email      String   @unique
  avatar     String
  homePage   String
  messages   Message[]

  @@map("users")
  @@unique([id, userName,avatar,homePage])
}

model Message {
  id        String   @id @default(uuid()) @db.Uuid
  text      String  
  file      String?
  image     String?
  userId    String   @db.Uuid
  user      User     @relation(fields: [userId,userName,avatar,homePage], references: [id,userName,avatar,homePage])
  userName  String
  avatar    String
  homePage  String
  previous  String?
  createdAt DateTime @default(now())

   @@map("messages")
}